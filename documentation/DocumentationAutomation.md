# Documentation Automation

This document outlines the automated tools and scripts available to maintain consistency between our documentation and codebase. These tools help ensure that when design decisions are documented, they are accurately reflected in the actual implementation.

## Available Scripts

### Color Asset Generation

The `generate-color-assets.sh` script automatically reads color definitions from the ColorScheme.md documentation and generates Xcode color assets. This ensures that the colors used in the app precisely match what's documented.

#### Usage

```bash
cd /Users/bh/Desktop/project
./documentation/scripts/generate-color-assets.sh
```

#### Important File Paths

- **Script Location**: `documentation/scripts/generate-color-assets.sh`
- **Documentation Source**: `documentation/ColorScheme.md`
- **Output Directory**: `BetFreeApp/BetFreeApp/Assets.xcassets/Colors`
- **Swift Color File**: `BetFreeApp/BetFreeApp/BetFreeApp/BetFreeApp/BFColors.swift`

#### What it Does

1. Parses the ColorScheme.md file to extract color names and hex values
2. Creates .colorset directories in the Xcode assets catalog
3. Generates the necessary JSON files for each color that Xcode uses
4. Supports both light and dark mode variants of each color

#### Example Color Definition in Documentation

```markdown
### Deep Teal (#2A6B7C)
Our primary color represents stability and calm. It's used for primary buttons, navigation elements, and key UI components.
- Light Mode: #2A6B7C
- Dark Mode: #3A7D8E
```

#### Generated Output

This will create:
- A directory `Colors/DeepTeal.colorset/`
- A `Contents.json` file with proper color values for light and dark mode

#### Caveats

- The script may need to run with appropriate permissions
- Always review generated files before committing
- Clear DerivedData (~/Library/Developer/Xcode/DerivedData) after running to ensure Xcode uses new assets

## UIKit Helpers

### BFColors.swift

The `BFColors.swift` file provides a unified interface for accessing all colors in the app. This file is also maintained in sync with the documentation.

#### Important Notes

- **File Location**: `BetFreeApp/BetFreeApp/BetFreeApp/BetFreeApp/BFColors.swift` 
- Do not edit this file directly; update documentation first, then regenerate
- The file provides both UIKit and SwiftUI color interfaces
- All colors are implemented as static properties
- The implementation supports dynamic colors that adapt to light/dark mode automatically

### Example Usage

```swift
// UIKit
let primaryColor = BFColors.primary

// SwiftUI
Text("Hello")
    .foregroundColor(BFColors.textPrimary)
    .background(BFColors.background)
```

## Component Documentation

### ComponentExamples.md

The ComponentExamples.md file showcases all UI components with their proper color usage. This serves as both documentation and a visual guide for designers and developers.

#### Automated Screenshot Generation

We also have a script that captures screenshots of the app's components and places them in the documentation:

```bash
cd /Users/bh/Desktop/project
./documentation/scripts/generate-component-screenshots.sh
```

This uses UI testing to navigate through the app and capture images of each component in isolation.

## Integration with CI/CD

Our continuous integration system runs these scripts automatically on each commit to ensure:

1. Documentation and implementation remain in sync
2. Color assets are up-to-date
3. Visual regression tests pass with the current color scheme

### CI Jobs

- `validate-colors`: Ensures the colors in documentation match those in the codebase
- `generate-assets`: Runs the color asset generation script
- `screenshot-components`: Updates component screenshots

## Manually Updating Colors

When a new color scheme is proposed, follow this workflow:

1. Update the `ColorScheme.md` document with new values
2. Run the asset generation script:
   ```bash
   cd /Users/bh/Desktop/project
   ./documentation/scripts/generate-color-assets.sh
   ```
3. Check the generated assets and update `BFColors.swift` if necessary
4. Test the app to ensure colors render correctly
5. Update component examples if needed
6. Commit all changes together

## Future Improvements

We plan to enhance the automation system with:

- Automatic updates to BFColors.swift when ColorScheme.md changes
- Design tool integration (Figma/Sketch) to sync color palettes
- Natural language processing to detect color descriptions in documentation and flag inconsistencies
- A visual browser for all documented colors with rendering previews 